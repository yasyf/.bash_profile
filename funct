#!/bin/bash
function zap() { open -a AppZapper /Applications/"${1}".app; }
function bp()
{
	local DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
	local files="$(ls $DIR | grep -v master | grep -v README | grep -v git | tail -n +3)"
	
if [[ $1 && -f "$DIR/$1" ]]; then
	
	mate $DIR/$1
elif [[ $1 == "f" ]]; then
	pf $DIR
else
	mate ~/.bash_profile
fi
}
function json() {
	if [ -p /dev/stdin ]; then
		# piping, e.g. `echo '{"foo":42}' | json`
		python -mjson.tool | pygmentize -l javascript
	else
		# e.g. `json '{"foo":42}'`
		python -mjson.tool <<< "$*" | pygmentize -l javascript
	fi
}
function dataurl() {
	echo "data:image/${1##*.};base64,$(openssl base64 -in "$1")" | tr -d '\n'
}
function mail_local()
{
	open "mailto:$1?subject=$2&body=$3"
}
function ocr()
{
	#need takocr installed
if [[ $1 ]]; then
	cd /tmp
convert -density 200 -units PixelsPerInch -type Grayscale +compress "$1" "tmp.tif"		
		tesseract tmp.tif tmp > /dev/null 2>&1
		TEXT=`cat tmp.txt`
		rm tmp.txt
		rm tmp.tif
		echo $TEXT | pbcopy 
		echo $TEXT
else
	echo "Usage: ocr input.img"
fi
}


